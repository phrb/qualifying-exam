% Arquivo LaTeX de exemplo de dissertação/tese a ser apresentados à CPG do IME-USP
%
% Versão 5: Sex Mar  9 18:05:40 BRT 2012
%
% Criação: Jesús P. Mena-Chalco
% Revisão: Fabio Kon e Paulo Feofiloff
%
% Obs: Leia previamente o texto do arquivo README.txt

\documentclass[12pt,twoside,a4paper]{book}

% ---------------------------------------------------------------------------- %
% Pacotes
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[pdftex]{graphicx}           % usamos arquivos pdf/png como figuras
\usepackage{setspace}                   % espaçamento flexível
\usepackage{indentfirst}                % indentação do primeiro parágrafo
\usepackage{makeidx}                    % índice remissivo
\usepackage[nottoc]{tocbibind}          % acrescentamos a bibliografia/indice/conteudo no Table of Contents
\usepackage{sourcecodepro}
\usepackage{type1cm}                    % fontes realmente escaláveis
\usepackage{listings}                   % para formatar código-fonte (ex. em Java)
\usepackage{titletoc}
\usepackage{booktabs}
\usepackage{textcomp}
\usepackage[explicit]{titlesec} % cabeçalhos dos títulos: menores e compactos
\usepackage[bold,full]{complexity}
\usepackage{tocloft}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{relsize}
\usepackage{epigraph}
\usepackage[fixlanguage]{babelbib}
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[usenames,svgnames,dvipsnames,table,xcdraw]{xcolor}
\usepackage{wrapfig}
\usepackage[a4paper,top=2.54cm,bottom=2.0cm,left=2.0cm,right=2.54cm]{geometry} % margens
%\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=black,linkcolor=black,urlcolor=black,filecolor=black,bookmarksopen=true]{hyperref} % links em preto
\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=DarkGreen,linkcolor=NavyBlue,urlcolor=DarkRed,filecolor=green,bookmarksopen=true]{hyperref} % links coloridos
\usepackage[all]{hypcap}                    % soluciona o problema com o hyperref e capitulos
\usepackage[round,sort,nonamebreak,numbers]{natbib} % citação bibliográfica textual(plainnat-ime.bst)
\usepackage{todonotes}
%\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\setlength{\epigraphrule}{0pt}
\setlength{\epigraphwidth}{8cm}
\renewcommand{\textflush}{flushepinormal}

% ---------------------------------------------------------------------------- %
% Cabeçalhos similares ao TAOCP de Donald E. Knuth
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{#1}}
\renewcommand{\headrulewidth}{0pt}

\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\itshape\nouppercase{\rightmark}}
\fancyhead[RE]{\itshape\nouppercase{\leftmark}}

% ---------------------------------------------------------------------------- %
\graphicspath{{./images/}}             % caminho das figuras (recomendável)
\frenchspacing                          % arruma o espaço: id est (i.e.) e exempli gratia (e.g.)
\urlstyle{same}                         % URL com o mesmo estilo do texto e não mono-spaced
\makeindex                              % para o índice remissivo
\raggedbottom                           % para não permitir espaços extra no texto
%\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\cleardoublepage
\normalsize

% ---------------------------------------------------------------------------- %
% Opções de listing usados para o código fonte
% Ref: http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
\lstset{ %
language=Java,                  % choose the language of the code
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,                    % adds a frame around the code
framerule=0.6pt,
tabsize=2,                        % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},         % if you want to add a comment within your code
backgroundcolor=\color[rgb]{1.0,1.0,1.0}, % choose the background color.
rulecolor=\color[rgb]{0.8,0.8,0.8},
extendedchars=true,
xleftmargin=10pt,
xrightmargin=10pt,
framexleftmargin=10pt,
framexrightmargin=10pt
}

% Setting Chapter Style
\makeatletter
\def\thickhrulefill{\leavevmode \leaders \hrule height .1ex \hfill \kern \z@}
\def\@makechapterhead#1{%
  %\vspace*{50\p@}%
  %\vspace*{5\p@}%
  {\parindent \z@ \centering \reset@font
        \thickhrulefill\quad
        \itshape \bfseries \normalsize \@chapapp{} \thechapter
        \normalsize \quad \thickhrulefill
        \par\nobreak
        \vspace*{5\p@}%
        \interlinepenalty\@M
        %\hrule
        %\vspace*{10\p@}%
        \normalfont \LARGE \bfseries #1\par\nobreak
        \par
        \vspace*{5\p@}%
        %\hrule
    %\vskip 40\p@
    \vskip 30\p@
  }}
\def\@makeschapterhead#1{%
  %\vspace*{50\p@}%
  %\vspace*{5\p@}%
  {\parindent \z@ \centering \reset@font
        \thickhrulefill
        \par\nobreak
        \vspace*{5\p@}%
        \interlinepenalty\@M
        %\hrule
        %\vspace*{10\p@}%
        \LARGE \bfseries #1\par\nobreak
        \par
        \vspace*{5\p@}%
        %\hrule
    %\vskip 40\p@
    \vskip 30\p@
  }}

\renewcommand\cftloftitlefont{\itshape\bfseries\Large}

\renewcommand\cftlottitlefont{\itshape\bfseries\Large}

\renewcommand\cfttoctitlefont{\hfill\itshape\bfseries\Large}

\renewcommand{\cftaftertoctitle}{\hfill}

 \titleformat{\section}
  {\itshape\large\bfseries}{\thesection}{1em}{#1}

\titleformat{\subsection}
  {\itshape\normalsize\bfseries}{\thesubsection}{1em}{#1}

\titleformat{\subsubsection}
  {\normalsize\bfseries\itshape}{\thesubsubsection}{1em}{#1}

% Setting custom lists
\newcommand{\listabbreviationname}{\itshape \Large List of Abbreviations}

\newlistof{abbreviation}{abb}{\listabbreviationname}

\newcommand{\abbreviation}[2]{%
\refstepcounter{abbreviation}
%\par\noindent\textbf{Example \theexample. #1}
\addcontentsline{abb}{abbreviation}
{\protect\makebox[2cm]{#1} #2}\par}

\cftpagenumbersoff{abbreviation}

% Setting custom lists
\newcommand{\listsymbolentryname}{\itshape \Large List of Symbols}

\newlistof{symbolentry}{synt}{\listsymbolentryname}

\newcommand{\symbolentry}[2]{%
\refstepcounter{symbolentry}
%\par\noindent\textbf{Example \theexample. #1}
\addcontentsline{synt}{symbolentry}
{\protect\makebox[2cm]{#1} #2}\par}

\cftpagenumbersoff{symbolentry}

\setcitestyle{square}

% ---------------------------------------------------------------------------- %
% Corpo do texto
\begin{document}
\frontmatter
% cabeçalho para as páginas das seções anteriores ao capítulo 1 (frontmatter)
%\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}
\setcounter{tocdepth}{2}
%\fancyhead[LE]{\thepage\hspace{2em}\footnotesize{\leftmark}}
%\fancyhead[RE,LO]{}
%\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}

\onehalfspacing  % espaçamento

% ---------------------------------------------------------------------------- %
% CAPA
% Nota: O título para as dissertações/teses do IME-USP devem caber em um
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
\thispagestyle{empty}
\begin{center}
    \vspace*{2.3cm}
    \textbf{\Large{Parallel and Distributed Autotuning \\
                   for High-Performance Computing}}\\

    \vspace*{1.2cm}
    \Large{Pedro Bruel}

    \vskip 2cm
    \textsc{
    Text submitted\\[-0.25cm]
    to the\\[-0.25cm]
    Institute de Mathematics and Statistics\\[-0.25cm]
    of the\\[-0.25cm]
    University of São Paulo\\[-0.25cm]
    for the\\[-0.25cm]
    Qualifying examination\\[-0.25cm]
    for the\\[-0.25cm]
    Doctoral Degree in\\[-0.25cm]
    Computer Science}

    \vskip 1.5cm
    Advisor: Professor Alfredo Goldman Vel Lejbman

       \vskip 1cm
    \normalsize{During the development of this work, the author was supported
    by CNPq \textnumero XXXX, Hewlett-Packard Enterprise and CAPES}

    \vskip 0.5cm
    \normalsize{São Paulo, \today}
\end{center}

% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO DEPOSITADA - ANTES DA DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas
%   desta página antes de compilar a versão
%   final, corrigida, do trabalho
%
%
\newpage
\thispagestyle{empty}
    \begin{center}
        \vspace*{2.3 cm}
        \textbf{\Large{Parallel and Distributed Autotuning\\
                       for High-Performance Computing}}\\
        \vspace*{2 cm}
    \end{center}

    \vskip 2cm

    \begin{flushright}
    This is the original version\\
    submitted for evaluation\\
    by Pedro Bruel
    \end{flushright}

\pagebreak


% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO CORRIGIDA - APÓS DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% Nota: O título para as dissertações/teses do IME-USP devem caber em um
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas desta
%   página antes de compilar a versão do trabalho que será entregue
%   à Comissão Julgadora antes da defesa
%
%
%\newpage
%\thispagestyle{empty}
%    \begin{center}
%        \vspace*{2.3 cm}
%        \textbf{\Large{Título do trabalho a ser apresentado à \\
%        CPG para a dissertação/tese}}\\
%        \vspace*{2 cm}
%    \end{center}
%
%    \vskip 2cm
%
%    \begin{flushright}
%    Esta versão da dissertação/tese contém as correções e alterações sugeridas\\
%    pela Comissão Julgadora durante a defesa da versão original do trabalho,\\
%    realizada em xx/xx/2017. Uma cópia da versão original está disponível no\\
%    Instituto de Matemática e Estatística da Universidade de São Paulo.
%
%    \vskip 2cm
%
%    \end{flushright}
%    \vskip 4.2cm
%
%    \begin{quote}
%    \noindent Comissão Julgadora:
%
%    \begin{itemize}
%        \item Profª. Drª. Nome Completo (orientadora) - IME-USP [sem ponto final]
%        \item Prof. Dr. Nome Completo - IME-USP [sem ponto final]
%        \item Prof. Dr. Nome Completo - IMPA [sem ponto final]
%    \end{itemize}
%
%    \end{quote}
%\pagebreak


\pagenumbering{roman}     % começamos a numerar

% ---------------------------------------------------------------------------- %
% Agradecimentos:
% Se o candidato não quer fazer agradecimentos, deve simplesmente eliminar esta página
%\chapter*{Agradecimentos}
%Texto texto texto texto texto texto texto texto texto texto texto texto texto
%texto texto texto texto texto texto texto texto texto texto texto texto texto
%texto texto texto texto texto texto texto texto texto texto texto texto texto
%texto texto texto texto. Texto opcional.


% ---------------------------------------------------------------------------- %
% Resumo
%\chapter*{Resumo}
%
%\noindent BRUEL, P. \textbf{Título do trabalho em português}.
%2017. xxx f.
%Qualificação (Doutorado) - Instituto de Matemática e Estatística,
%Universidade de São Paulo, São Paulo, 2010.
%\\
%
%Elemento obrigatório, constituído de uma sequência de frases concisas e
%objetivas, em forma de texto.  Deve apresentar os objetivos, métodos empregados,
%resultados e conclusões.  O resumo deve ser redigido em parágrafo único, conter
%no máximo 500 palavras e ser seguido dos termos representativos do conteúdo do
%trabalho (palavras-chave).
%\\
%
%\noindent \textbf{Palavras-chave:} palavra-chave1, palavra-chave2, palavra-chave3.
%
%\vspace*{1cm}%
%\thickhrulefill

% ---------------------------------------------------------------------------- %
% Abstract
\chapter*{Abstract}
\noindent BRUEL, P. \textbf{Parallel and Distributed Autotuning for High-Performance Computing}.
2017. xxx f.
Qualifying Examination (PhD) - Institute of Mathematics and Statistics,
University of São Paulo, São Paulo, 2017.
\\


Elemento obrigatório, elaborado com as mesmas características do resumo em
língua portuguesa. De acordo com o Regimento da Pós- Graduação da USP (Artigo
99), deve ser redigido em inglês para fins de divulgação.
\\

\noindent \textbf{Keywords:} keyword1, keyword2, keyword3.

\vspace*{1cm}%
\thickhrulefill

\newpage
% ---------------------------------------------------------------------------- %
% Sumário
\tableofcontents    % imprime o sumário

% ---------------------------------------------------------------------------- %
\newpage
\symbolentry{$\omega$}{Frequência angular}
\symbolentry{$\psi$}{Função de análise \emph{wavelet}}
\symbolentry{$\Psi$}{Transformada de Fourier de $\psi$}
\begin{NoHyper}
\listofsymbolentry
\end{NoHyper}
\addcontentsline{toc}{chapter}{List of Symbols}
\newpage

% ---------------------------------------------------------------------------- %

% Listas de figuras e tabelas criadas automaticamente
\newpage
\abbreviation{CFT}{Transformada contínua de Fourier (\emph{Continuous Fourier Transform})}
\abbreviation{DFT}{Transformada discreta de Fourier (\emph{Discrete Fourier Transform})}
\abbreviation{EIIP}{Potencial de interação elétron-íon (\emph{Electron-Ion Interaction Potentials})}
\abbreviation{STFT}{Tranformada de Fourier de tempo reduzido (\emph{Short-Time Fourier Transform})}
\begin{NoHyper}
\listofabbreviation
\end{NoHyper}
\addcontentsline{toc}{chapter}{List of Abbreviations}
\newpage

\listoffigures

\listoftables

% ---------------------------------------------------------------------------- %
% Capítulos do trabalho
\mainmatter

% cabeçalho para as páginas de todos os capítulos
%\fancyhead[RE,LO]{\thesection}

%\singlespacing              % espaçamento simples
\onehalfspacing            % espaçamento um e meio

\input{chapters/introduction}
\input{chapters/autonomous}
\input{chapters/autotuning}
\input{chapters/results}
\input{chapters/gpu_compiler_parameters}
\input{chapters/hls_fpga}
\input{chapters/configuring_dpe}
\input{chapters/distributed_opentuner}
\input{chapters/proposal}
\input{chapters/summary}

% cabeçalho para os apêndices
%\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\appendixname\ \thechapter}} {\MakeUppercase{#1}} }
%\fancyhead[RE,LO]{}
\appendix

%\include{ape/conjuntos}

% ---------------------------------------------------------------------------- %
% Bibliografia
\backmatter \singlespacing   % espaçamento simples
%\bibliographystyle{bib/plainnat-ime} % citação bibliográfica textual
\bibliographystyle{plainnat} % citação bibliográfica textual
\bibliography{bib/references}  % associado ao arquivo: 'bibliografia.bib'

% ---------------------------------------------------------------------------- %
% Índice remissivo
\index{TBP|see{periodicidade região codificante}}
\index{DSP|see{processamento digital de sinais}}
\index{STFT|see{transformada de Fourier de tempo reduzido}}
\index{DFT|see{transformada discreta de Fourier}}
\index{Fourier!transformada|see{transformada de Fourier}}

\printindex   % imprime o índice remissivo no documento

\end{document}
